<?php echo '<?xml version="1.0" encoding="utf-8"?>'; ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Dimitri & Alice</title>
<meta http-equiv="Content-Type" content="text/html; charset =utf-8" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="generator" content="Rvglobalsoft" />
<meta name="progid" content="Version: 4.50 PRO; Project name: Dimitri and Alice; Project id: 8c4ecb967d961441575fd98192e10d28; Template Name: pro_21-757-1_black_flower_1; Published date: December 27, 2010, 12:54 26 (GMT -06:00" />
 
<link rel="stylesheet" href="http://dimitriandalice.com/style.css" type="text/css" />
<link rel="stylesheet" href="http://dimitriandalice.com/Georgia.css" type="text/css" />
<link rel="stylesheet" href="http://dimitriandalice.com/Navigator.css" type="text/css" />
<link rel="stylesheet" href="http://dimitriandalice.com/pathway.css" type="text/css" />

<script type="text/javascript" src="http://dimitriandalice.com/rvsincludefile/rvsheadpage.js"></script>
<script type="text/javascript" src="http://dimitriandalice.com/rvsincludefile/rvsnavigator.js"></script>
<script type="text/javascript" src="http://dimitriandalice.com/js/publishNavigator/layersmenu-library.js"></script>
<script type="text/javascript" src="http://dimitriandalice.com/js/publishNavigator/layersmenu.js"></script>
<script type="text/javascript" src="http://dimitriandalice.com/rvsincludefile/rvscustomopenwindow.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js" ></script>
</head>
<style>
	table.carpoolsContainerTable { width: 800px; padding: 0px; border: 1px solid #789DB3; }
	table.carpoolsContainerTable td { border: none; background-color: #F4F4F4; vertical-align: middle; text-align: center; padding: 3px; }
	table.carpoolsContainerTable th { border-bottom: 1px solid #000000; text-align: center; }
	table td.name { width: 195px; }
	table td.zip { width: 90px; }
	table td.date { width: 167px; }
	table td.avail { width: 63px; }
	table td.btn { width: 138px; }
	table td.carpoolID { display: none; }
	table.carpoolScrollerTable { padding: 0px; border: 1px solid #789DB3; width: 100%; border-collapse:collapse; }
	table.carpoolScrollerTable td { border-bottom: thin black; }
	div.carpoolScroller { overflow: auto; height: 98px; padding-bottom: 5px; }
</style>
<body>
<noscript>
	This page uses Javascript.<br/>
	Your browser either does not support Javascript, or you have it turned off.<br/>
	You will need Javascript to access the room reservation system.<br/>
</noscript>
<table cellpadding="0" cellspacing="0" id="rv_top_adjust_width_0" width="1024x768" align="Center" >
	<tr>
		<td align="left" valign="top">
			<table cellpadding="0" cellspacing="0" width="990">
				<tr>
					<td align="left" valign="top"> 
						<!-- START LOGO -->
						<div style="position: absolute;">
							<div id="Layer1" style="position:relative; left:140px; top:15px; width:120; height:60; text-align:center; z-index:1; overflow:visible; white-space:nowrap;"><!-- START LOGO --><a href="http://dimitriandalice.com/index.php" >
    <img src="http://dimitriandalice.com/LOGO.JPG?900c27f8c21acdf5b2f9338d5b090972" width="120" height="70" border="0" alt="Logo" />
</a><!-- END LOGO --></div>
						</div>
						<div style="position: absolute;">
							<div id="Layer2" style="position:relative; left:280px; top:20px; width:auto; height:auto; text-align:left; z-index:2; overflow:visible; white-space:nowrap;" class="company">Dimitri and Alice</div>
						</div>
						<div style="position: absolute;">
							<div id="Layer3" style="position:relative; left:280px; top:50px; width:auto; height:auto; text-align:left; z-index:3; overflow:visible; white-space:nowrap;" class="slogan"></div>
						</div>
						<!-- END LOGO -->	
						<table cellpadding="0" cellspacing="0">
							<tr>
								<td align="left" valign="top"><img src="images/img_01.jpg" alt="" width="162" height="199" /></td>
								<td align="left" valign="top"><img src="images/img_02.jpg" alt="" width="290" height="199" /></td>
								<td align="left" valign="top"><img src="images/img_03.jpg" alt="" width="285" height="199" /></td>
								<td align="left" valign="top"><img src="images/img_04.jpg" alt="" width="253" height="199" /></td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td align="left" valign="top" bgcolor="#ffffff">
						<table cellpadding="0" cellspacing="0" width="100%">
							<tr>
							  <td align="left" valign="top"> 
									<table cellpadding="0" cellspacing="0" width="100%">
										<tr>
											<td align="left" valign="top"><img src="images/mu_01.jpg" alt="" width="28" height="42" /></td>
											<td align="left" class="top_mu"><img src="images/mu_02.jpg" alt="" width="134" height="42" /></td>
											<td align="right" valign="top"><img src="images/mu_03.jpg" alt="" width="18" height="42" /></td>
										</tr>
										<tr>
											<td align="left" valign="top" class="mu_l"><img src="images/mu_04.jpg" alt="" width="28" height="195" /></td>
											<td align="left" valign="top">
												<table cellpadding="0" cellspacing="0" width="100%">
													<tr>
														<td align="left" valign="top" height="32" class="menu"><div class="navigator">
<ul class="navigator">
<li><a href="index.php"  class="normal"  target="_self" ><span>Home</span></a></li>
<li><a href="About-us.php"  class="normal"  target="_self" ><span>About us</span></a></li>
<li><a href="News--and--Blog.php"  class="normal"  target="_self" ><span>News & Blog</span></a></li>
<li><a href="Venue.php"  class="normal"  target="_self" ><span>Venue</span></a></li>
<li><a href="RSVP.php"  class="normal"  target="_self" ><span>RSVP</span></a></li>
<li><a href="Schedule--and--Activities.php"  class="normal"  target="_self" ><span>Schedule & Activities</span></a></li>
<li><a href="Accommodations.php"  class="normal"  target="_self" ><span>Accommodations</span></a></li>
<li><a href="Travel.php" id="current"   target="_self" ><span>Travel & Carpools</span></a></li>
<li><a href="Gifts.php"  class="normal"  target="_self" ><span>Gifts</span></a></li>
<li><a href="pics/index.php"  class="normal"  target="_self" ><span>Pics</span></a></li>
</ul>
</div>

</td>
													</tr>
												</table>
											</td>
											<td valign="bottom" align="left" class="mu_r"><img src="images/mu_05.jpg" alt="" width="18" height="195" /></td>
										</tr>
										<tr>
											<td align="left" class="bottom_mu"><img src="images/mu_06.jpg" alt="" width="28" height="21" /></td>
											<td align="right" class="bottom_mu "><img src="images/mu_07.jpg" alt="" width="134" height="21" /></td>
											<td align="left"><img src="images/mu_08.jpg" alt="" width="18" height="21" /></td>
										</tr>
									</table>
								</td>
								<td align="left" valign="top" width="99%">
									<table cellpadding="0" cellspacing="0" width="100%">
										 	

										<!-- Begin PATHWAY and ICON -->
										<tr>
											<td class="magin">
												<table cellpadding="0" cellspacing="0" width="100%">
													<tr>
														<!-- Begin PATHWAY -->
														<td align="left" width="99%"><?php include("/home/dimitria/public_html/rvsincludefile/pathway_2e6e09d62cf110267af3f76e146ba8c2.html"); ?></td>
														<!-- End PATHWAY -->
														<!-- Begin ICON -->
														<td align="right"><?php include("/home/dimitria/public_html/rvsincludefile/icon_2e6e09d62cf110267af3f76e146ba8c2.html"); ?></td>
														<!-- End ICON -->
													</tr>
												</table>								
											</td>
										</tr>
										<!-- End PATHWAY and ICON -->
										<tr>
											<td align="left" valign="top">
												<table cellpadding="0" cellspacing="0" width="100%">
													<tr>
														<td align="left" valign="top" class="magin" id="rv_adjust_width_189" width="835">

<table cellpadding="0" cellspacing="0" width="100%">  <tr>    <td align="left" valign="top" width="100%" id="layout_zone1" style = ""><div>
<div>
<h2>Suggested flight dates:</h2></div></div>
<div>
<div>4/29/10 (Friday)</div>
<div>&nbsp;5/1/10 (Sunday)</div>
<div>&nbsp;</div>
<div>
<h2>Suggested airports:</h2> </div>
<div>Austin, TX -<strong> AUS</strong>&nbsp; (112 miles)</div>
<div>Waco, TX - <strong>ACT </strong>(24 miles) </div>
<div>Dallas-Ft. Worth, TX -<strong> DFW</strong> (129 miles)</div></div>
<div>
<div>
<div>&nbsp;</div>
<div>
<div>
<h2>Free Airport Shuttles&nbsp;</h2>
<div>&nbsp;We will have voluntary drivers leaving/arriving at the two major airports at the following times.&nbsp; Use the Car Pools signup, below, to get on a shuttle! :)</div>
<div>&nbsp;</div></div>
<div><strong>Austin </strong></div>
<div>
<ul>
<li>Friday - leave airport at 4pm&nbsp;&nbsp; (sign-up below)<br />
</li>
<li>Sunday - arrive at airport at 11:30am&nbsp;&nbsp;&nbsp; (sign-up below)<br />
</li></ul></div>
<div>&nbsp;</div>
<div></div>
<div>
<div><strong>Dallas</strong></div>
<div>
<ul>
<li>Friday - leave airport at 4pm&nbsp;&nbsp;&nbsp; (sign-up below)</li>
<li>Sunday - arrive at airport at 11:30am&nbsp;&nbsp;&nbsp; (sign-up below)</li></ul></div>
<div>&nbsp;</div></div></div>
<div></div>
<div>
<h2>Car Pools</h2></div>
<div>
	<div>If you cannot schedule your flights around the above times, or aren't flying and would like to carpool, then the below sign-up system will help to connect you with others!</div>
	<br/>
	<div>Sign up to drive or sign up to ride!  When new riders sign up to a carpool, an email with contact info is sent to the driver and other riders on that carpool so that y'all can coordinate.</div>
	<br/>
	<div>If you're a rider, please try to sign up to a driver that's close to you, or on the way.  If no one's close by, then consider being a driver for your area.</div>
	<br/>
	<div>If you have any questions or system bugs pop up, just <a href="mailto:dimitri@dimitriandalice.com">email me!</a></div>
</div>
<div>
	<div>&nbsp;</div>
</div>
<div>
<!--------------------- Carpool Tables --------------------->
<table class="carpoolsContainerTable"><tbody>
<tr>
	<td rowspan="2">Carpools<br />
	<b>TO</b><br />
	Event<br />
	<button name="driverSignupTO" onclick="signupForm(this)">I Can Drive!</button></td>
	<td class="name"><b>Name</b></td>
	<td class="zip"><b>ZipCode</b></td>
	<td class="date"><b>Date, Time</b></td>
	<td class="avail"><b># Avail</b></td>
	<td class="btn"></td>
</tr>
<tr>
	<td colspan="5" style="border: 2px solid #339966">
	<div id="carpoolTO" class="carpoolScroller">
	<table id="carpoolTOTable" class="carpoolScrollerTable">
	<tbody>
		<tr class="carpoolTemplateRow">
			<td class="name">Dimitri Hammond</td>
			<td class="zip">78753</td>
			<td class="date">Friday, 8pm</td>
			<td class="avail">3</td>
			<td class="carpoolID">0</td>
			<td class="btn">
				<button class="riderBtn" name="rider_88" onclick="signupForm(this)">Ride Along!</button>
			</td>
		</tr>
	</tbody></table>
	</div>
	</td>
</tr>
</tbody></table>

<br />
<b>If you need to change your Driver or Rider info then please <a href="mailto:Dimitri@DimitriAndAlice.com">email Dimitri@DimitriAndAlice.com</a></b> (the deleting/editing part isn't automated yet :) )
<br />

<br /><table class="carpoolsContainerTable"><tbody>
<tr>
	<td rowspan="2">Carpools<br />
	<b>FROM</b><br />
	Event<br />
	<button name="driverSignupFROM" onclick="signupForm(this)">I Can Drive!</button></td>
	<td class="name"><b>Name</b></td>
	<td class="zip"><b>ZipCode</b></td>
	<td class="date"><b>Date, Time</b></td>
	<td class="avail"><b># Avail</b></td>
	<td class="btn"></td>
</tr>
<tr>
	<td colspan="5" style="border: 2px solid #339966">
	<div id="carpoolFROM" class="carpoolScroller">
	<table id="carpoolFROMTable" class="carpoolScrollerTable">
	<tbody>
		<tr class="carpoolTemplateRow">
			<td class="name">Dimitri Hammond</td>
			<td class="zip">78753</td>
			<td class="date">Friday, 8pm</td>
			<td class="avail">3</td>
			<td class="carpoolID">0</td>
			<td class="btn">
				<button class="riderBtn" name="rider_88" onclick="signupForm(this)">Ride Along!</button>
			</td>
		</tr>
	</tbody></table>
	</div>
	</td>
</tr>
</tbody></table>

<!--------------------- Sign-up Form --------------------->
<div id="signupArea">
	<form id="carpoolForm" onsubmit="return submitForm()" method="post">
	<input id="carpoolID" name="carpoolID" type="hidden" value="-1" />
	<input id="toFrom" name="toFrom" type="hidden" value="" />
	<br/>
	<table class="carpoolsContainerTable" style="width: 400px;">
		<tbody>
			<th colspan="2">Thanks for <span id="signupHeaderText"></span>!<br />Please fill in all info:</th>
			<tr><td>Your name:</td><td><input name="nameInput" type="text" /></td></tr>
			<tr id="addyRow"><td>Your street address:</td><td><input name="streetAddress" type="text" /></td></tr>
			<tr><td>Zipcode <span id="zipcodeText"></span>:</td><td><input name="zipcodeInput" type="text" size="10" /></td></tr>
			<tr id="dayRow"><td>Day you'll be leaving <span id="dateText"></span>: </td><td><select name="daySelect">
				<option value="Thursday, 4/28">Thursday, 4/28</option>
				<option value="Friday, 4/29" selected="true">Friday, 4/29</option>
				<option value="Saturday, 4/30">Saturday, 4/30</option>
				<option value="Sunday, 5/1">Sunday, 5/1</option>
			</select></td></tr>
			<tr id="timeRow"><td>Time you'll be leaving:</td><td><input name="departTimeInput" type="text" value="4:30 pm" size="10" /></td></tr>
			<tr><td>How many people <span id="fitText"></span> <br /><span id="numIncludeText"><i>(do <b>NOT</b> include yourself)</i></span></td><td><input name="numPeopleInput" type="text" size="3" value="2" /></td></tr>
			<tr><td>Your phone number:<br/>Your e-mail:<br /><i>(will only be given to your carpool)</i></td><td><input name="phoneInput" type="text" /><br /><input name="emailInput" type="text" /><br/>--</td></tr>
		</tbody>
	</table>
	<br/>
	<input id="Submit1" type="submit" value="Sign me up!" />
	<input id="Button1" type="button" value="Cancel" onclick="resetForm()" /></form>
</div>

<script>
var _driverState = true;

// Auto-run funcs
// (need to make sure doc is loaded, first)
$(document).ready( function () 
{
	$("#signupArea").hide();
	$.ajaxSetup(
	{
		cache: false,
		type: "POST",
		dataType: "json",
		error: onAjaxError,
		traditional: false,
		url: "scripts/carpool.php"
	});
	fillCarpools();
	
});

function fillCarpools()
{
	$.ajax( { data:{ status:"loadCarpools", payload:"to" }, success:fillCarpoolsForTable } );
	$.ajax( { data:{ status:"loadCarpools", payload:"from" }, success:fillCarpoolsForTable } );
}

function fillCarpoolsForTable( carpoolList )
{
	var firstPass = true;
	carpoolList = carpoolList.payload;
	var toFrom = carpoolList.shift();
	var curCarpoolTable;
	if ( toFrom == "to" )
		curCarpoolTable = $("#carpoolTOTable");
	else
		curCarpoolTable = $("#carpoolFROMTable");
	$(".carpoolTemplateRow:gt(0)", curCarpoolTable).remove();
	

	for ( var i in carpoolList )
	{
		if ( firstPass )
			firstPass = false;
		else
			$(".carpoolTemplateRow:last", curCarpoolTable).clone().appendTo(curCarpoolTable);
		
		var curRow = $(".carpoolTemplateRow:last", curCarpoolTable);
		$("td.name", curRow).text( carpoolList[i]['name'] );
		$("td.zip", curRow).text( carpoolList[i]['zipcode'] );
		$("td.date", curRow).text( carpoolList[i]['time'] );
		var remain = Number(carpoolList[i]['remain']);
		$("td.carpoolID", curRow).text( carpoolList[i]['carpool_id'] );
		
			
		// tag on the carpool_id to each carpool row
		if ( remain <= 0 )
		{
			$("td.avail", curRow).text( "full" );
			$("td.avail", curRow).css( "color", "#FF0000" );
			$(".riderBtn", curRow).hide();
		}
		else
		{
			$("td.avail", curRow).text( remain );
			$("td.avail", curRow).css( "color", "" );
			$(".riderBtn", curRow).show();
			$(".riderBtn", curRow).attr("name","rider_" + $(".carpoolID", curRow).text());
		}
	}
}

// Shows the signup form; customizes it depending on type
function signupForm( target )
{
	$("#signupArea").show(500);
	_driverState = true;
	switch ( target.name )
	{
		case "driverSignupTO":
			$("#dayRow").show();
			$("#timeRow").show();
			$("#addyRow").hide();
			$("#numIncludeText").show();
			$("#signupHeaderText").text( "offering to drive TO the event" );
			$("#zipcodeText").text( "where you'll be leaving from" );
			$("#dateText").text( "to head to event" );
			$("#fitText").text("can you fit?");
			$("#toFrom").val("to");
			break;
		case "driverSignupFROM":
			$("#dayRow").show();
			$("#timeRow").show();
			$("#addyRow").hide();
			$("#numIncludeText").show();
			$("#signupHeaderText").text( "offering to drive FROM the event" );
			$("#zipcodeText").text( "where you'll be driving to" );
			$("#dateText").text( "the event" );
			$("#fitText").text("can you fit?");
			$("#toFrom").val("from");
			break;
		default: //rider buttons
			_driverState = false;
			$("#dayRow").hide();
			$("#timeRow").hide();
			$("#numIncludeText").hide();
			$("#addyRow").show();
			$("#zipcodeText").text( "" );
			$("#signupHeaderText").text( "hitching a ride" );
			$("#fitText").text("are riding?");
			var carpoolID = target.name.substr(6);
			$("#carpoolID").val(carpoolID);
			break;
			
	}
}

function resetForm()
{
	// zero all values
	$("#carpoolForm")[0].reset();	
	$("#signupArea").hide(500);
}

// Uses AJAX techniques for passing reservation info back to server
function submitForm()
{
	if ( (
		$("[name='nameInput']").val() == "" ||
		$("[name='zipcodeInput']").val() == "" ||
		$("[name='numPeopleInput']").val() == 0 ||
		$("[name='phoneInput']").val() == "" ||
		$("[name='emailInput']").val() == "" ||
		( $("[name='streetAddress']").val() == "" && ! _driverState ) ||
		( $("[name='departTimeInput']").val() == "" && _driverState )
		) )
	{	
		window.alert( "An entry is empty!" );
		return false;
	}
	
	$.ajax( { data:{ status:_driverState ? "addDriver" : "addRider", payload: $("#carpoolForm").serialize() }, success:carpoolAdded } );
	//$.ajax( { data:{ status:"addDriver", payload: "#carpoolForm"}, success:carpoolAdded } );
	return false;
}

function carpoolAdded( data )
{
	if ( data.status.substr(0,5) == "Error" )
		window.alert( "Oopsies!  We have an error.\n " + data.status.substr(6) );
	else
		window.alert( "Thanks!\n " + data.status );
	resetForm();
	fillCarpools();	
}

// AJAX Global callback for all errors
function onAjaxError( xhr, ts, et )
{
	window.alert( "Server-side error:<<<\n" +
				   xhr.responseText + "<<<\n" +
				   ts + "<<<\n" +
				   et );
	resetForm();
	fillCarpools();	
}
</script>

<div>
<div>&nbsp;</div></div></div></div></div>
<div>
<div>
<div>&nbsp;</div></div>
<div>
<div>&nbsp;</div></div></div>
<div>

</div></td>  </tr></table>
</td>
														 

													</tr>
												</table>								
											</td>
										</tr>
										<!-- Begin FOOTER -->
										<tr>
											<td align="center" class="magin"></td>
										</tr>
										<!-- End FOOTER -->
										<!-- Begin BOTTOM -->
										<tr>
											<td align="center" class="magin">
<div align="center">&nbsp;</div>
<div align="center">E-mail Dimitri any time, with any questions: <a href="mailto:Dimitri@DimitriandAlice.com?subject=Website%20Question" title="">Dimitri@DimitriandAlice.com</a> </div>
<div>&nbsp;</div>
<div align="center"><font style="font-size: smaller">● ©2011 Dugal Designs&nbsp; ● Site template by RVGlobalSoft ● Reservation and RSVP systems coded by Dimitri Hammond ●</font></div>
<div align="center"><font style="font-size: smaller">&nbsp;</font></div></td>
										</tr>
										<!-- End BOTTOM -->
										<tr>
											<td align="center" valign="bottom">
												<table cellpadding="0" cellspacing="0">
													<tr>
														<td align="center" valign="bottom" class="magin"></td>
														<td width="8"></td>
														<td align="center" valign="bottom" class="magin"></td>
													</tr>
												</table>	
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td align="left" valign="top">
						<table cellpadding="0" cellspacing="0">
							<tr>
								<td><img src="images/img_05.jpg" alt="" width="180" height="43" /></td>
								<td><img src="images/img_06.jpg" alt="" width="272" height="43" /></td>
								<td><img src="images/img_07.jpg" alt="" width="285" height="43" /></td>
								<td><img src="images/img_08.jpg" alt="" width="253" height="43" /></td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
</table>
</body>
</html>
